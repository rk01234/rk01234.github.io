<!-- https://rk01234.github.io/ -->
<!-- 手直ししたいところいっぱいあるけど公開してみる -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nincolle Viewer</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/JavaScript">
        console.log(new Date().toLocaleString() + ' : Loading script...');
        var quest_details = {};
    
        window.onload = function() {
            fetch('quest_details.json')
                .then(response => response.json())
                .then(questData => {
                    quest_details = questData;
                    console.log(quest_details);
                    console.log(new Date().toLocaleString() + ' : window.onload finished');
    
                    let hash = decodeURIComponent(window.location.hash.substring(1));
                    if (hash) {
                        document.getElementById('userInput').value = hash;
                        // handleButtonClickを実行
                        handleButtonClick();
                    }
                });
        }
    </script>
    <!-- script.jsの読み込み -->
    <script src="script.js"></script>
    <script src="sort.js"></script>
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6KW47L9ZGG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6KW47L9ZGG');
</script>
<body>
<!-- アプデ時間 -->
<h1>Nincolle Viewer <span id="lastUpdate">Last Update 2024年6月1日</span></h1>
<!-- データ入力フォームの追加 -->
<form id="data-input-form">
    <textarea id="userInput" rows="4" cols="50" placeholder='questlistのresponceを入れてください。&#13;&#10;index.html#{"api_no_list":[1,2,3]}&#13;&#10;のような使い方もできます。'></textarea>
    <button id="displayButton" type="button" onclick="handleButtonClick()">まとめる！</button>
</form>
<!-- 任務名、海域の二次元配列テーブルを作り、任務名をクリックすると文字列ソート、海域をクリックすると中身があるものをソートするようにする -->
<!-- 最上部は大ステージ、二段目は小ステージ、三段目以降はデータを入れるようにする -->

<table id="quest_board" border="3">
    <thead>
        <tr>
            <th rowspan="3">ID</th>
            <th rowspan="3">任務</th>
            <th colspan="6">(1) 鎮守府海域</th>
            <th colspan="5">(2) 南西諸島海域</th>
            <th colspan="5">(3) 北方海域</th>
            <th colspan="9">(7) 南西海域</th>
            <th colspan="5">(4) 西方海域</th>
            <th colspan="5">(5) 南方海域</th>
            <th colspan="5">(6) 中部海域</th>
        </tr>
        <tr>
            <th id="stage_1-1" rowspan="2" onclick="SortTest(event)">1</th>
            <th id="stage_1-2" rowspan="2" onclick="SortTest(event)">2</th>
            <th id="stage_1-3" rowspan="2" onclick="SortTest(event)">3</th>
            <th id="stage_1-4" rowspan="2" onclick="SortTest(event)">4</th>
            <th id="stage_1-5" rowspan="2" onclick="SortTest(event)">5</th>
            <th id="stage_1-6" rowspan="2" onclick="SortTest(event)">6</th>
            <th id="stage_2-1" rowspan="2" onclick="SortTest(event)">1</th>
            <th id="stage_2-2" rowspan="2" onclick="SortTest(event)">2</th>
            <th id="stage_2-3" rowspan="2" onclick="SortTest(event)">3</th>
            <th id="stage_2-4" rowspan="2" onclick="SortTest(event)">4</th>
            <th id="stage_2-5" rowspan="2" onclick="SortTest(event)">5</th>
            <th id="stage_3-1" rowspan="2" onclick="SortTest(event)">1</th>
            <th id="stage_3-2" rowspan="2" onclick="SortTest(event)">2</th>
            <th id="stage_3-3" rowspan="2" onclick="SortTest(event)">3</th>
            <th id="stage_3-4" rowspan="2" onclick="SortTest(event)">4</th>
            <th id="stage_3-5" rowspan="2" onclick="SortTest(event)">5</th>
            <th id="stage_7-1" rowspan="2" onclick="SortTest(event)">1</th>
            <th colspan="2">2</th>
            <th colspan="2">3</th>
            <th id="stage_7-4" rowspan="2" onclick="SortTest(event)">4</th>
            <th colspan="3">5</th>
            <th id="stage_4-1" rowspan="2" onclick="SortTest(event)">1</th>
            <th id="stage_4-2" rowspan="2" onclick="SortTest(event)">2</th>
            <th id="stage_4-3" rowspan="2" onclick="SortTest(event)">3</th>
            <th id="stage_4-4" rowspan="2" onclick="SortTest(event)">4</th>
            <th id="stage_4-5" rowspan="2" onclick="SortTest(event)">5</th>
            <th id="stage_5-1" rowspan="2" onclick="SortTest(event)">1</th>
            <th id="stage_5-2" rowspan="2" onclick="SortTest(event)">2</th>
            <th id="stage_5-3" rowspan="2" onclick="SortTest(event)">3</th>
            <th id="stage_5-4" rowspan="2" onclick="SortTest(event)">4</th>
            <th id="stage_5-5" rowspan="2" onclick="SortTest(event)">5</th>
            <th id="stage_6-1" rowspan="2" onclick="SortTest(event)">1</th>
            <th id="stage_6-2" rowspan="2" onclick="SortTest(event)">2</th>
            <th id="stage_6-3" rowspan="2" onclick="SortTest(event)">3</th>
            <th id="stage_6-4" rowspan="2" onclick="SortTest(event)">4</th>
            <th id="stage_6-5" rowspan="2" onclick="SortTest(event)">5</th>
            
        </tr>
        <tr>
            <th id="stage_7-2-1" onclick="SortTest(event)"><small id="stage_7-2-1">1</small></th>
            <th id="stage_7-2-2" onclick="SortTest(event)"><small id="stage_7-2-2">2</small></th>
            <th id="stage_7-3-1" onclick="SortTest(event)"><small id="stage_7-3-1">1</small></th>
            <th id="stage_7-3-2" onclick="SortTest(event)"><small id="stage_7-3-2">2</small></th>
            <th id="stage_7-5-1" onclick="SortTest(event)"><small id="stage_7-5-1">1</small></th>
            <th id="stage_7-5-2" onclick="SortTest(event)"><small id="stage_7-5-2">2</small></th>
            <th id="stage_7-5-3" onclick="SortTest(event)"><small id="stage_7-5-3">3</small></th>
        </tr>
    </thead>
    <tbody id="quest_table">
    </tbody>
</table>
<!-- リンク作成ボタン・リンク表示テキストエリア・コピーボタン・ブックマークに追加ボタンを横一列に表示 -->
<!-- リンク表示テキストエリアはクリックすると全体範囲選択になるようにする -->
<div id="link-area">
    <button id="createLinkButton" type="button" onclick="createLink()">リンク作成</button>
    <input type="text" id="linkText" size="50" onclick="this.select()">
    <button id="copyButton" type="button" onclick="copyLink()">コピー</button>
    <!-- <button id="bookmarkButton" type="button" onclick="bookmarkLink()">ブックマークに追加</button> -->
</div>
<script src="link_area.js"></script>
ステージ番号を押すと並べ替えができます
<br>
七四式電子観測儀の任務→翻訳されていない任務データをコピーからの入力にも対応しました
<br>
データは<a href="https://github.com/rk01234/rk01234.github.io">こちら</a>にあります。
</body>
</html>